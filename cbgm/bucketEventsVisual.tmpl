{{# obj.class == 'bucketEvents' }}
  <ul class="visual">
    {{#sortDesc(obj.events,"when"):eventIdx}}
      <li class="bucketEvent">
        <div class="bucketEvent_when">{{when}}</div>
        {{# class == 'partitionMap' }}
          <div class="nodes">
            <div class="partitionId">{{partitionId}}</div>
            {{#obj.events[eventIdx].nodes:nodeIdx}}
              <div class="nodeId">{{.}}</div>
            {{/}}
          </div>
          {{#partitions:partitionId}}
            <div class="partition">
              <div class="partitionId">{{partitionId}}</div>
              {{#obj.events[eventIdx].nodes:nodeIdx}}
                <div class="node">
                  {{#partitions[partitionId]:state}}
                    {{# _.contains(partitions[partitionId][state], nodeIdx) }}
                      <div class="{{state}}"></div>
                    {{/}}
                  {{/}}
                  {{^ _.contains(_.flatten(_.values(partitions[partitionId])), nodeIdx) }}
                    <div class="null"></div>
                  {{/}}
                </div>
              {{/}}
            </div>
          {{/partitions}}
        {{/}}
        {{# class == 'partitionParams' }}
          <div class="partitionParams">
            <div class="partitionParam">{{nodes}}</div>
            <div class="partitionParam">{{JSON.stringify(constraints)}}</div>
          </div>
        {{/}}
      </li>
    {{/}}
  </ul>
{{/}}
